<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Write out a neuron skeleton or mesh in any of the file formats we know about — write.neuron • nat</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Write out a neuron skeleton or mesh in any of the file formats we know about — write.neuron"><meta property="og:description" content="If file is not specified the neuron's InputFileName field will be checked
(for a dotprops object it will be the 'file' attribute). If this is
missing there will be an error. If dir is specified it will be combined with
basename(file). If file is specified but format is not, it will be inferred
from file's extension."><meta property="og:image" content="/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">nat</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.10.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/neurons-intro.html">Introduction to neurons and neuronlists</a>
    </li>
    <li>
      <a href="../articles/neurons-as-graph.html">Working with individual neurons as graph structures</a>
    </li>
    <li>
      <a href="../articles/plotly.html">3D graphics</a>
    </li>
    <li>
      <a href="../articles/NeuroGeometry.html">NeuroGeometry: Analysing 3D morphology of neurons</a>
    </li>
  </ul></li>
<li>
  <a href="../articles/Installation.html">Installation</a>
</li>
<li>
  <a href="../index.html#learn">Learn</a>
</li>
<li>
  <a href="../index.html#help">Help</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://natverse.github.io" class="external-link">natverse</a>
</li>
<li>
  <a href="https://github.com/natverse/nat" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Write out a neuron skeleton or mesh in any of the file formats we know about</h1>
    <small class="dont-index">Source: <a href="https://github.com/natverse/nat/blob/HEAD/R/neuron-io.R" class="external-link"><code>R/neuron-io.R</code></a></small>
    <div class="hidden name"><code>write.neuron.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>If file is not specified the neuron's InputFileName field will be checked
(for a dotprops object it will be the <code>'file'</code> attribute). If this is
missing there will be an error. If dir is specified it will be combined with
basename(file). If file is specified but format is not, it will be inferred
from file's extension.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">write.neuron</span><span class="op">(</span>
  <span class="va">n</span>,
  file <span class="op">=</span> <span class="cn">NULL</span>,
  dir <span class="op">=</span> <span class="cn">NULL</span>,
  format <span class="op">=</span> <span class="cn">NULL</span>,
  ext <span class="op">=</span> <span class="cn">NULL</span>,
  Force <span class="op">=</span> <span class="cn">FALSE</span>,
  MakeDir <span class="op">=</span> <span class="cn">TRUE</span>,
  metadata <span class="op">=</span> <span class="cn">NULL</span>,
  <span class="va">...</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>n</dt>
<dd><p>A neuron</p></dd>
<dt>file</dt>
<dd><p>Path to output file</p></dd>
<dt>dir</dt>
<dd><p>Path to directory (this will replace <code>dirname(file)</code> if
specified)</p></dd>
<dt>format</dt>
<dd><p>Unique abbreviation of one of the registered file formats for
neurons including 'swc', 'hxlineset', 'hxskel' (skeletons) and 'ply', 'obj'
(neuron meshes). If no format can be extracted from the filename or the
<code>ext</code> parameter, then it defaults to 'swc' for skeletons and 'ply' for
meshes.</p></dd>
<dt>ext</dt>
<dd><p>Will replace the default extension for the filetype and should
include the period e.g. <code>ext='.amiramesh'</code> or <code>ext='_reg.swc'</code>.
The special value of ext=NA will prevent the extension from being changed
or added e.g. if the desired file name does not have an extension.</p></dd>
<dt>Force</dt>
<dd><p>Whether to overwrite an existing file</p></dd>
<dt>MakeDir</dt>
<dd><p>Whether to create directory implied by <code>file</code> argument.</p></dd>
<dt>metadata</dt>
<dd><p>Whether to encode some metadata in the header file (currently
only supported for SWC format). Either a data.frame or <code>TRUE</code> to
indicate that the attached data.frame should be written. Default
<code>FALSE</code>.</p></dd>
<dt>...</dt>
<dd><p>Additional arguments passed to selected writer function</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>return value</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>Note that if <code>file</code> does not have an extension then the default
  extension for the specified <code>format</code> will be appended. This behaviour
  can be suppressed by setting <code>ext=NA</code>.</p>
<p>If you find that some software rejects your SWC files, try setting
  <code>normalise.ids=TRUE</code> (see examples). This will ensure that the vertex
  ids are sequentially ascending integers (1:N). The default value of
  <code>normalise.ids=NA</code> will normalise <code>PointNo</code> vertex ids only when
  a vertex is connected (by the <code>Parent</code> field) to a vertex that had not
  yet been defined. Many readers make the assumption that this is true. When
  <code>normalise.ids=FALSE</code> the vertex ids will not be touched.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="write.neurons.html">write.neurons</a></code>, <code><a href="read.neuron.html">read.neuron</a></code>,
  <code><a href="fileformats.html">fileformats</a></code>, <code><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">saveRDS</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="co"># show the currently registered file formats that we can write</span></span>
<span class="r-in"><span class="fu"><a href="fileformats.html">fileformats</a></span><span class="op">(</span>class<span class="op">=</span><span class="st">'neuron'</span>, write<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "hxlineset"  "hxskel"     "neuron.obj" "neuron.ply" "qs"        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6] "rds"        "rdsb"       "swc"        "vtk"       </span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="co"># write neuron to "myneuron.swc" in SWC format</span></span>
<span class="r-in"><span class="fu">write.neuron</span><span class="op">(</span><span class="va">Cell07PNs</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>, file<span class="op">=</span><span class="st">'myneuron.swc'</span><span class="op">)</span></span>
<span class="r-in"><span class="co"># write in SWC format, normalising the integer ids that label every node</span></span>
<span class="r-in"><span class="co"># (this is required by some SWC readers e.g. Fiji)</span></span>
<span class="r-in"><span class="fu">write.neuron</span><span class="op">(</span><span class="va">Cell07PNs</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>, file<span class="op">=</span><span class="st">'myneuron.swc'</span>, normalise.ids<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"><span class="co"># write out "myneuron.swc" in SWC format withour the final extension</span></span>
<span class="r-in"><span class="fu">write.neuron</span><span class="op">(</span><span class="va">Cell07PNs</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>, file<span class="op">=</span><span class="st">'myneuron.swc'</span><span class="op">)</span></span>
<span class="r-in"><span class="co"># write out "myneuron.amiramesh" in Amira hxlineset format</span></span>
<span class="r-in"><span class="fu">write.neuron</span><span class="op">(</span><span class="va">Cell07PNs</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>, format <span class="op">=</span> <span class="st">'hxlineset'</span>, file<span class="op">=</span><span class="st">'myneuron.amiramesh'</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># write out "myneuron.am" in Amira hxlineset format</span></span>
<span class="r-in"><span class="fu">write.neuron</span><span class="op">(</span><span class="va">Cell07PNs</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>, format <span class="op">=</span> <span class="st">'hxlineset'</span>, file<span class="op">=</span><span class="st">'myneuron'</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Gregory Jefferis, James Manton, Sridhar Jagannathan.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

      </footer></div>

  


  

  </body></html>

