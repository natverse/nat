<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Reformat an image with a CMTK registration using the reformatx tool — cmtk.reformatx • nat</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Reformat an image with a CMTK registration using the reformatx tool — cmtk.reformatx"><meta property="og:description" content="Reformat an image with a CMTK registration using the reformatx tool"><meta property="og:image" content="/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">nat</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.10.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/neurons-intro.html">Introduction to neurons and neuronlists</a>
    </li>
    <li>
      <a href="../articles/neurons-as-graph.html">Working with individual neurons as graph structures</a>
    </li>
    <li>
      <a href="../articles/plotly.html">3D graphics</a>
    </li>
    <li>
      <a href="../articles/NeuroGeometry.html">NeuroGeometry: Analysing 3D morphology of neurons</a>
    </li>
  </ul></li>
<li>
  <a href="../articles/Installation.html">Installation</a>
</li>
<li>
  <a href="../index.html#learn">Learn</a>
</li>
<li>
  <a href="../index.html#help">Help</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://natverse.github.io" class="external-link">natverse</a>
</li>
<li>
  <a href="https://github.com/natverse/nat" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Reformat an image with a CMTK registration using the reformatx tool</h1>
    <small class="dont-index">Source: <a href="https://github.com/natverse/nat/blob/HEAD/R/cmtk-reformat.R" class="external-link"><code>R/cmtk-reformat.R</code></a></small>
    <div class="hidden name"><code>cmtk.reformatx.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Reformat an image with a CMTK registration using the reformatx tool</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">cmtk.reformatx</span><span class="op">(</span>
  <span class="va">floating</span>,
  <span class="va">registrations</span>,
  <span class="va">output</span>,
  <span class="va">target</span>,
  mask <span class="op">=</span> <span class="cn">FALSE</span>,
  direction <span class="op">=</span> <span class="cn">NULL</span>,
  interpolation <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"linear"</span>, <span class="st">"nn"</span>, <span class="st">"cubic"</span>, <span class="st">"pv"</span>, <span class="st">"sinc-cosine"</span>, <span class="st">"sinc-hamming"</span><span class="op">)</span>,
  dryrun <span class="op">=</span> <span class="cn">FALSE</span>,
  Verbose <span class="op">=</span> <span class="cn">TRUE</span>,
  MakeLock <span class="op">=</span> <span class="cn">TRUE</span>,
  OverWrite <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"no"</span>, <span class="st">"update"</span>, <span class="st">"yes"</span><span class="op">)</span>,
  filesToIgnoreModTimes <span class="op">=</span> <span class="cn">NULL</span>,
  <span class="va">...</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>floating</dt>
<dd><p>The floating image to be reformatted</p></dd>
<dt>registrations</dt>
<dd><p>One or more CMTK format registrations on disk</p></dd>
<dt>output</dt>
<dd><p>The path to the output image (defaults to
<code>"&lt;targetstem&gt;_&lt;floatingstem&gt;.nrrd"</code>)</p></dd>
<dt>target</dt>
<dd><p>A character vector specifying an image file on disk, an
<code>im3d</code> object (or an object that can be coerced to im3d) or a 6-or
9-vector defining a grid in the form Nx,Ny,Nz,dX,dY,dZ,[Ox,Oy,Oz].</p></dd>
<dt>mask</dt>
<dd><p>Whether to treat target as a binary mask (only reformatting 
positive voxels)</p></dd>
<dt>direction</dt>
<dd><p>Whether to transform image from sample space to reference
space (called <strong>forward</strong> by CMTK) or from reference to sample space
(called <strong>inverse</strong> by CMTK). Default (when <code>NULL</code> is forward).</p></dd>
<dt>interpolation</dt>
<dd><p>What interpolation scheme to use for output image 
(defaults to linear - see details)</p></dd>
<dt>dryrun</dt>
<dd><p>Just print command</p></dd>
<dt>Verbose</dt>
<dd><p>Whether to show cmtk status messages and be verbose about file
update checks. Sets command line <code>--verbose</code> option.</p></dd>
<dt>MakeLock</dt>
<dd><p>Whether to use a lock file to allow simple parallelisation 
(see <code>makelock</code>)</p></dd>
<dt>OverWrite</dt>
<dd><p>Whether to OverWrite an existing output file. One of 
c("no","update","yes"). When OverWrite='update' 
<code>RunCmdForNewerInput</code> is used to determine if the output is 
older than any of the input files.</p></dd>
<dt>filesToIgnoreModTimes</dt>
<dd><p>Input files whose modification time should not 
be checked when determining if new output is required.</p></dd>
<dt>...</dt>
<dd><p>additional arguments passed to CMTK <code>reformatx</code> after 
processing by <code><a href="cmtk.call.html">cmtk.call</a></code>.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>the path to the output image (whether or not it was re-created afresh)
  or <code>NA_character_</code> if no output was possible.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>Note that if you are reformatting a mask then you will need to
  change the interpolation to "nn", since interpolating between e.g. mask
  levels 72 and 74 with 73 may have unintended consequences. Presently we
  have no way of knowing whether an image should be treated as a mask, so the
  <code>interpolation</code> must be handled manually.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="cmtk.bindir.html">cmtk.bindir</a>, <a href="cmtk.call.html">cmtk.call</a>, makelock, 
  RunCmdForNewerInput</code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"><span class="fu">cmtk.reformatx</span><span class="op">(</span><span class="st">'myimage.nrrd'</span>, target<span class="op">=</span><span class="st">'template.nrrd'</span>,</span>
<span class="r-in">  registrations<span class="op">=</span><span class="st">'template_myimage.list'</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># get full listing of command line options  </span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/system.html" class="external-link">system</a></span><span class="op">(</span><span class="fu"><a href="cmtk.call.html">cmtk.call</a></span><span class="op">(</span><span class="st">'reformatx'</span>, help<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Gregory Jefferis, James Manton, Sridhar Jagannathan.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

      </footer></div>

  


  

  </body></html>

